---
layout: default
---
<div style="float:right; margin-top: -10px;">
  <button class="copy-btn" to-copy="{{site.url}}/instance/{{ page.wpid }}"
    style="border:none; background-color:#FFFFFF; font-size: larger; margin-left:-4px">
    <span title="Copy link to clipboard" style="color: #666;"><i class="fa fa-link"></i></span>
  </button>
  <a href="https://www.sejda.com/html-to-pdf?save-link={{site.url}}/pathways/{{ page.wpid }}.html" target="_blank">
    <span title="Save as PDF" style="color: #666; font-size: larger; margin-left:2px"><i class="fa fa-file-pdf-o"></i></span>
  </a>
  <a href="https://github.com/wikipathways/wikipathways.github.io/blob/main/_pathways/{{ page.wpid }}.md"
    target="_blank">
    <span title="Edit markdown" style="color: #666; font-size: larger; margin-left:8px"><i
        class="fa fa-pencil"></i></span>
  </a>
  {% include share.html %}

</div>

<div class="container">
  <a class="page-title" href="{{site.url}}/instance/{{page.wpid}}">
    <h1 id="title"> {{ page.title }} ({{ page.wpid }})</h1>
  </a>

  <div id="description" style="height:4.5em; overflow-y:auto;">
    {{ page.description }}
  </div>

  <div id="pathway-viewer" style="height:400px;">
    <iframe class="embed-responsive-item" src="https://pathway-viewer.toolforge.org/?id={{page.wpid}}"
      style="border-width: 1px; border-color: rgb(222,226,230); border-style: solid; height:100%; width:100%"
      referrerpolicy="origin" sandbox="allow-scripts allow-same-origin allow-popups"></iframe>
  </div>
  <div class="dropdown" style="float:right;">
    <button class="badge badge-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false">
      options
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" href="https://pathway-viewer.toolforge.org/?id={{page.wpid}}" target="_blank">Open in new
        tab</a>
      <a class="dropdown-item" href="#">Download PNG</a>
      <a class="dropdown-item" href="#">Download SVG</a>
      <a class="dropdown-item" href="#">Download GPML</a>
    </div>
  </div>
  <!-- Evaluate last-edited date to set badge color -->
  {% assign edit = page.last-edited | date: '%s' %}
  {% assign now = 'now' | date: '%s' %}
  {% assign diffSeconds = now | minus: edit %}
  {% assign diffDays = diffSeconds | divided_by: 3600 | divided_by: 24 %}
  {% if diffDays <= 1 %} {% assign badgeColor="red" %} {% elsif diffDays <=7 %} {% assign badgeColor="yellow" %} {% else
    %} {% assign badgeColor="blue" %} {% endif %} <!-- This badge is updated by Jekyll via the value of "last-edited" in
    each pathway .md-->
    <a href="https://github.com/wikipathways/wikipathways.github.io/commits/main/_pathways/{{page.wpid}}.md"
      target="_blank">
      <img alt="last edited"
        src="https://img.shields.io/static/v1?label=last edited&message={{page.last-edited | date_to_string}}&color={{badgeColor}}">
    </a>
    <!--This badge is updated async to Jekyll by edits to the corresponding .json (Note: 5 minute cache by shields.io)-->
    <a id="badge-json" target="_blank"
    href="https://github.com/wikipathways/wikipathways.github.io/commits/main/_pathways/{{page.wpid}}.md"
    file="https://raw.githubusercontent.com/wikipathways/repository/main/{{page.wpid}}/status.json">
    <!-- fill-in with img tag if file exists -->
    </a>
    <!--This badge shows the curation status-->
    <a id="badge-curation" target="_blank"
    href="https://new.wikipathways.org/SARS-CoV-2-WikiPathways/reports/{{page.wpid}}.html"
    file="https://new.wikipathways.org/SARS-CoV-2-WikiPathways/reports/{{page.wpid}}.json">
    <!-- fill-in with img tag if file exists -->
    </a>
    </div>
    <h2 id="authors">Authors</h2>
    {{ page.authors | array_to_sentence_string }}

    <h2 id="organism">Organism</h2>
    {% for org in site.organisms %}
    {% if page.organisms contains org.latin %}
    <a class="btn btn-sm btn-pill btn-primary" href="{{org.url}}">{{org.latin}}</a>
    {% endif %}
    {% endfor %}

    <h2 id="communities">Communities</h2>
    {% for com in site.communities %}
    {% if page.communities contains com.community-tag %}
    <a class="btn btn-sm btn-pill btn-success" href="{{com.url}}">{{com.display-name}}</a>
    {% endif %}
    {% endfor %}

    <h2 id="annotations">Annotations</h2>
    {% assign annot-types = page.annotations | map: "type" | uniq %}
    {% for type in annot-types %}
    <p><b>{{ type }}: </b>
      {% assign annot-values= page.annotations | where: "type", type | map: "value" %}
      {% for annot in site.annotations %}
      {% if annot-values contains annot.value and type == annot.type %}
      <a class="btn btn-sm btn-pill btn-info" href="{{annot.url}}">{{annot.value}}</a>
      {% endif %}
      {% endfor %}
    </p>
    {% endfor %}

    <h2 id="participants">Participants</h2>
    {% assign wpid-parts=page.wpid | append: "-participants" %}
    {% assign parts=site.data[wpid-parts] %}
    <table id="participants-table">
      <thead>
        {% for column in parts[0] %}
        <th>{{ column[0] }}</th>
        {% endfor %}
      </thead>
      <tbody>
        {% for row in parts %}
        <tr>
          {% for cell in row %}
          <td>{{ cell[1] }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <input type="button" class="badge badge-secondary" id="tableMore" value="more" style="float: left; margin-top: -8px;">
    <input type="button" class="badge badge-secondary" id="tableLess" value="less" style="float: left; margin-top: -8px;">
    <br />
    <h2 id="references">References</h2>
    {% assign wpid-refs=page.wpid | append: "-references" %}
    {% assign refs=site.data[wpid-refs] %}
    <ol>
      {% for ref in refs %}
      <li><div class="citation-js">{{ ref.pmid }}</div> (<a href="http://www.ncbi.nlm.nih.gov/pubmed/{{ref.pmid}}">PubMed</a>,
        <a href="https://europepmc.org/abstract/MED/{{ref.pmid}}">EuropePMC</a>,
        <a href="https://scholia.toolforge.org/pubmed/{{ref.pmid}}">Scholia</a>)
      </li>
      {% endfor %}
    </ol>

</div>

<script>
  var trs = $("#participants-table tr");
  var btnMore = $("#tableMore");
  var btnLess = $("#tableLess");
  var trsLength = trs.length;
  var startIndex = 5;
  var currentIndex = startIndex;
  var addIndex = 40;

  var badgeJson = $("#badge-json")[0];
  var badgeJsonFileUrl = badgeJson.getAttribute("file");
  if (UrlExists(badgeJsonFileUrl)){
    badgeJson.innerHTML = '<img alt="pathway status" src="https://img.shields.io/endpoint?url='+badgeJsonFileUrl+'">';
  }
  var badgeCuration = $("#badge-curation")[0];
  var badgeCurationFileUrl = badgeCuration.getAttribute("file");
  if (UrlExists(badgeCurationFileUrl)){
    badgeCuration.innerHTML = '<img alt="pathway status" src="https://img.shields.io/endpoint?url='+badgeCurationFileUrl+'">';
  }
  
  function UrlExists(url) {
    var http = new XMLHttpRequest();
    http.open('HEAD', url, false);
    http.send();
    if (http.status != 404)
      return true;
    else
      return false;
  }

  trs.hide();
  trs.slice(0, startIndex).show();
  checkButton();

  btnMore.click(function (e) {
    e.preventDefault();
    $("#participants-table tr").slice(currentIndex, currentIndex + addIndex).show();
    currentIndex += addIndex;
    checkButton();
  });

  btnLess.click(function (e) {
    e.preventDefault();
    $("#participants-table tr").slice(currentIndex - addIndex, currentIndex).hide();
    currentIndex -= addIndex;
    checkButton();
  });

  function checkButton() {
    var currentLength = $("#participants-table tr:visible").length;

    if (currentLength >= trsLength) {
      btnMore.hide();
    } else {
      btnMore.show();
    }

    if (trsLength > startIndex && currentLength > startIndex) {
      btnLess.show();
    } else {
      btnLess.hide();
    }

  }
  const copyBtn = document.querySelector('.copy-btn');
  const toCopy = document.querySelector('.copy-btn').getAttribute('to-copy');

  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(toCopy)
      .then(() => {
        toCopy.value = '';
        if (copyBtn.innerHTML !== '<span style="color: #8282FF;"><i class="fa fa-check"></i></span>') {
          const originalText = copyBtn.innerHTML;
          copyBtn.innerHTML = '<span style="color: #8282FF;"><i class="fa fa-check"></i></span>';
          setTimeout(() => {
            copyBtn.innerHTML = originalText;
          }, 1500);
        }
      })
      .catch(err => {
        console.log('Something went wrong', err);
      })
  });
</script>
